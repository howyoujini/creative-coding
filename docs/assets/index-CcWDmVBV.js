var it=Object.defineProperty;var et=(p,t,i)=>t in p?it(p,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):p[t]=i;var a=(p,t,i)=>et(p,typeof t!="symbol"?t+"":t,i);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function i(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(e){if(e.ep)return;e.ep=!0;const o=i(e);fetch(e.href,o)}})();class h{constructor(t=0,i=0){this.x=t,this.y=i}static create(t,i){return new h(t,i)}static random(){const t=Math.random()*Math.PI*2;return new h(Math.cos(t),Math.sin(t))}static fromAngle(t){return new h(Math.cos(t),Math.sin(t))}copy(){return new h(this.x,this.y)}add(t){return this.x+=t.x,this.y+=t.y,this}sub(t){return this.x-=t.x,this.y-=t.y,this}mult(t){return this.x*=t,this.y*=t,this}div(t){return t!==0&&(this.x/=t,this.y/=t),this}mag(){return Math.sqrt(this.x*this.x+this.y*this.y)}magSq(){return this.x*this.x+this.y*this.y}normalize(){const t=this.mag();return t>0&&this.div(t),this}limit(t){const i=this.magSq();return i>t*t&&this.div(Math.sqrt(i)).mult(t),this}setMag(t){return this.normalize().mult(t)}heading(){return Math.atan2(this.y,this.x)}rotate(t){const i=Math.cos(t),s=Math.sin(t),e=this.x*i-this.y*s,o=this.x*s+this.y*i;return this.x=e,this.y=o,this}dist(t){const i=this.x-t.x,s=this.y-t.y;return Math.sqrt(i*i+s*s)}lerp(t,i){return this.x+=(t.x-this.x)*i,this.y+=(t.y-this.y)*i,this}static sub(t,i){return new h(t.x-i.x,t.y-i.y)}static add(t,i){return new h(t.x+i.x,t.y+i.y)}static mult(t,i){return new h(t.x*i,t.y*i)}static dist(t,i){return t.dist(i)}static lerp(t,i,s){return new h(t.x+(i.x-t.x)*s,t.y+(i.y-t.y)*s)}}const ot=.5*(Math.sqrt(3)-1),H=(3-Math.sqrt(3))/6,F=[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]];class at{constructor(t=Math.random()*65536){a(this,"perm",[]);a(this,"permMod12",[]);const i=[];for(let s=0;s<256;s++)i[s]=Math.floor(this.seededRandom(t+s)*256);for(let s=0;s<512;s++)this.perm[s]=i[s&255],this.permMod12[s]=this.perm[s]%12}seededRandom(t){const i=Math.sin(t)*1e4;return i-Math.floor(i)}noise2D(t,i){let s=0,e=0,o=0;const n=(t+i)*ot,r=Math.floor(t+n),c=Math.floor(i+n),l=(r+c)*H,d=r-l,f=c-l,m=t-d,x=i-f;let u,v;m>x?(u=1,v=0):(u=0,v=1);const g=m-u+H,y=x-v+H,w=m-1+2*H,P=x-1+2*H,M=r&255,b=c&255,E=this.permMod12[M+this.perm[b]],T=this.permMod12[M+u+this.perm[b+v]],k=this.permMod12[M+1+this.perm[b+1]];let L=.5-m*m-x*x;L>=0&&(L*=L,s=L*L*this.dot(F[E],m,x));let I=.5-g*g-y*y;I>=0&&(I*=I,e=I*I*this.dot(F[T],g,y));let R=.5-w*w-P*P;return R>=0&&(R*=R,o=R*R*this.dot(F[k],w,P)),70*(s+e+o)}noise3D(t,i,s){const e=.3333333333333333,o=1/6,n=(t+i+s)*e,r=Math.floor(t+n),c=Math.floor(i+n),l=Math.floor(s+n),d=(r+c+l)*o,f=r-d,m=c-d,x=l-d,u=t-f,v=i-m,g=s-x;let y,w,P,M,b,E;u>=v?v>=g?(y=1,w=0,P=0,M=1,b=1,E=0):u>=g?(y=1,w=0,P=0,M=1,b=0,E=1):(y=0,w=0,P=1,M=1,b=0,E=1):v<g?(y=0,w=0,P=1,M=0,b=1,E=1):u<g?(y=0,w=1,P=0,M=0,b=1,E=1):(y=0,w=1,P=0,M=1,b=1,E=0);const T=u-y+o,k=v-w+o,L=g-P+o,I=u-M+2*o,R=v-b+2*o,j=g-E+2*o,V=u-1+3*o,Y=v-1+3*o,O=g-1+3*o,A=r&255,B=c&255,X=l&255,Q=this.permMod12[A+this.perm[B+this.perm[X]]],_=this.permMod12[A+y+this.perm[B+w+this.perm[X+P]]],tt=this.permMod12[A+M+this.perm[B+b+this.perm[X+E]]],st=this.permMod12[A+1+this.perm[B+1+this.perm[X+1]]];let G=0,K=0,U=0,Z=0,W=.6-u*u-v*v-g*g;W>=0&&(W*=W,G=W*W*this.dot3(F[Q],u,v,g));let z=.6-T*T-k*k-L*L;z>=0&&(z*=z,K=z*z*this.dot3(F[_],T,k,L));let C=.6-I*I-R*R-j*j;C>=0&&(C*=C,U=C*C*this.dot3(F[tt],I,R,j));let D=.6-V*V-Y*Y-O*O;return D>=0&&(D*=D,Z=D*D*this.dot3(F[st],V,Y,O)),32*(G+K+U+Z)}dot(t,i,s){return t[0]*i+t[1]*s}dot3(t,i,s,e){return t[0]*i+t[1]*s+t[2]*e}}const S=new at(12345);function q(p,t,i,s=.005){const o=S.noise3D(p*s,t*s,i),n=S.noise3D(p*s,(t+1e-4)*s,i),r=S.noise3D((p+1e-4)*s,t*s,i),c=(n-o)/1e-4;return{x:(r-o)/1e-4,y:-c}}class nt{constructor(t){a(this,"canvas");a(this,"ctx");a(this,"particles",[]);a(this,"time",0);a(this,"animationId",0);a(this,"animate",()=>{this.animationId=requestAnimationFrame(this.animate);const t=this.canvas.offsetWidth,i=this.canvas.offsetHeight;this.ctx.fillStyle="rgba(10, 10, 15, 0.05)",this.ctx.fillRect(0,0,t,i),this.time+=.003;for(const s of this.particles){const e=q(s.pos.x,s.pos.y,this.time,.003);if(s.vel.x+=e.x*.3,s.vel.y+=e.y*.3,s.vel.mult(.95),s.vel.limit(1.5),s.pos.add(s.vel),s.life++,s.trail.push(s.pos.copy()),s.trail.length>30&&s.trail.shift(),s.trail.length>2){this.ctx.beginPath(),this.ctx.moveTo(s.trail[0].x,s.trail[0].y);for(let n=1;n<s.trail.length;n++)this.ctx.lineTo(s.trail[n].x,s.trail[n].y);const o=Math.min(s.life/50,1)*(1-s.life/s.maxLife)*.3;this.ctx.strokeStyle=`rgba(248, 113, 113, ${o})`,this.ctx.lineWidth=1,this.ctx.stroke()}if(s.pos.x<-50||s.pos.x>t+50||s.pos.y<-50||s.pos.y>i+50||s.life>s.maxLife){const o=this.createParticle();s.pos=o.pos,s.vel=o.vel,s.life=0,s.trail=[]}}});this.canvas=document.getElementById(t),this.ctx=this.canvas.getContext("2d"),this.resize(),window.addEventListener("resize",()=>this.resize())}resize(){this.canvas.width=this.canvas.offsetWidth*window.devicePixelRatio,this.canvas.height=this.canvas.offsetHeight*window.devicePixelRatio,this.ctx.scale(window.devicePixelRatio,window.devicePixelRatio)}createParticle(){const t=this.canvas.offsetWidth,i=this.canvas.offsetHeight;return{pos:new h(Math.random()*t,Math.random()*i),vel:new h(0,0),life:0,maxLife:200+Math.random()*200,trail:[]}}start(){for(let i=0;i<150;i++)this.particles.push(this.createParticle());this.animate()}stop(){cancelAnimationFrame(this.animationId),this.particles=[]}}class ht{constructor(t,i){a(this,"canvasLeft");a(this,"canvasRight");a(this,"ctxLeft");a(this,"ctxRight");a(this,"dotsLeft",[]);a(this,"dotsRight",[]);a(this,"time",0);a(this,"animationId",0);a(this,"animate",()=>{this.animationId=requestAnimationFrame(this.animate);const t=this.canvasLeft.parentElement,i=t.offsetWidth,s=t.offsetHeight;this.ctxLeft.fillStyle="rgba(0, 0, 0, 0.15)",this.ctxLeft.fillRect(0,0,i,s),this.ctxRight.fillStyle="rgba(0, 0, 0, 0.15)",this.ctxRight.fillRect(0,0,i,s),this.time+=.02;for(const e of this.dotsLeft)Math.random()<.05&&(e.pos.x=e.basePos.x+(Math.random()-.5)*40,e.pos.y=e.basePos.y+(Math.random()-.5)*40),this.ctxLeft.beginPath(),this.ctxLeft.arc(e.pos.x,e.pos.y,4,0,Math.PI*2),this.ctxLeft.fillStyle="rgba(248, 113, 113, 0.8)",this.ctxLeft.fill();for(const e of this.dotsRight){const o=S.noise2D(e.basePos.x*.01,e.basePos.y*.01+this.time);e.pos.x=e.basePos.x+Math.sin(this.time+e.phase)*15,e.pos.y=e.basePos.y+Math.cos(this.time*.8+e.phase)*15+o*10,this.ctxRight.beginPath(),this.ctxRight.arc(e.pos.x,e.pos.y,4,0,Math.PI*2),this.ctxRight.fillStyle="rgba(248, 113, 113, 0.8)",this.ctxRight.fill()}});this.canvasLeft=document.getElementById(t),this.canvasRight=document.getElementById(i),this.ctxLeft=this.canvasLeft.getContext("2d"),this.ctxRight=this.canvasRight.getContext("2d"),this.resize()}resize(){const t=this.canvasLeft.parentElement,i=t.offsetWidth,s=t.offsetHeight,e=window.devicePixelRatio;this.canvasLeft.width=i*e,this.canvasLeft.height=s*e,this.canvasRight.width=i*e,this.canvasRight.height=s*e,this.ctxLeft.scale(e,e),this.ctxRight.scale(e,e),this.canvasLeft.style.width=i+"px",this.canvasLeft.style.height=s+"px",this.canvasRight.style.width=i+"px",this.canvasRight.style.height=s+"px"}start(){const t=this.canvasLeft.parentElement,i=t.offsetWidth,s=t.offsetHeight;this.dotsLeft=[],this.dotsRight=[];const e=10,o=6,n=i/(e+1),r=s/(o+1);for(let c=0;c<e;c++)for(let l=0;l<o;l++){const d=n*(c+1),f=r*(l+1);this.dotsLeft.push({pos:new h(d,f),vel:new h(0,0),basePos:new h(d,f),phase:Math.random()*Math.PI*2}),this.dotsRight.push({pos:new h(d,f),vel:new h(0,0),basePos:new h(d,f),phase:(c+l)*.5})}this.animate()}stop(){cancelAnimationFrame(this.animationId),this.dotsLeft=[],this.dotsRight=[]}}class ct{constructor(t){a(this,"canvas");a(this,"ctx");a(this,"time",0);a(this,"animationId",0);a(this,"currentRule","linear");a(this,"pos");a(this,"vel");a(this,"target");a(this,"trail",[]);a(this,"animate",()=>{this.animationId=requestAnimationFrame(this.animate);const t=this.canvas.offsetWidth,i=this.canvas.offsetHeight,s=t/2,e=i/2;switch(this.ctx.fillStyle="rgba(10, 10, 15, 0.08)",this.ctx.fillRect(0,0,t,i),this.time+=.02,this.currentRule){case"linear":this.target.x=s+Math.sin(this.time)*200,this.target.y=e,this.pos.lerp(this.target,.1);break;case"circular":const o=120;this.target.x=s+Math.cos(this.time)*o,this.target.y=e+Math.sin(this.time)*o,this.pos.lerp(this.target,.15);break;case"noise":const n=S.noise2D(this.time*.5,0),r=S.noise2D(0,this.time*.5);this.target.x=s+n*180,this.target.y=e+r*180,this.pos.lerp(this.target,.05);break;case"spring":const c=new h(s+Math.sin(this.time*.5)*150,e+Math.cos(this.time*.3)*100),l=h.sub(c,this.pos);l.mult(.03),this.vel.add(l),this.vel.mult(.92),this.pos.add(this.vel);break}if(this.trail.push(this.pos.copy()),this.trail.length>80&&this.trail.shift(),this.trail.length>2){this.ctx.beginPath(),this.ctx.moveTo(this.trail[0].x,this.trail[0].y);for(let o=1;o<this.trail.length;o++)this.ctx.lineTo(this.trail[o].x,this.trail[o].y);this.ctx.strokeStyle="rgba(248, 113, 113, 0.3)",this.ctx.lineWidth=2,this.ctx.stroke()}this.ctx.beginPath(),this.ctx.arc(this.pos.x,this.pos.y,12,0,Math.PI*2),this.ctx.fillStyle="#f87171",this.ctx.fill(),this.ctx.fillStyle="rgba(255, 255, 255, 0.3)",this.ctx.font="14px monospace",this.ctx.fillText(`Rule: ${this.currentRule}`,20,30)});this.canvas=document.getElementById(t),this.ctx=this.canvas.getContext("2d"),this.pos=new h(0,0),this.vel=new h(0,0),this.target=new h(0,0),this.resize(),this.setupControls(),window.addEventListener("resize",()=>this.resize())}resize(){this.canvas.width=this.canvas.offsetWidth*window.devicePixelRatio,this.canvas.height=this.canvas.offsetHeight*window.devicePixelRatio,this.ctx.scale(window.devicePixelRatio,window.devicePixelRatio);const t=this.canvas.offsetWidth,i=this.canvas.offsetHeight;this.pos=new h(t/2,i/2),this.target=new h(t/2,i/2)}setupControls(){const t=document.querySelectorAll("[data-rule]");t.forEach(i=>{i.addEventListener("click",()=>{t.forEach(s=>s.classList.remove("active")),i.classList.add("active"),this.currentRule=i.getAttribute("data-rule"),this.trail=[],this.time=0})})}setRule(t){this.currentRule=t,this.trail=[],this.time=0}start(){this.animate()}stop(){cancelAnimationFrame(this.animationId)}}class rt{constructor(t){a(this,"canvas");a(this,"ctx");a(this,"particles",[]);a(this,"time",0);a(this,"animationId",0);a(this,"animate",()=>{this.animationId=requestAnimationFrame(this.animate);const t=this.canvas.offsetWidth,i=this.canvas.offsetHeight;this.ctx.fillStyle="rgba(10, 10, 15, 0.03)",this.ctx.fillRect(0,0,t,i),this.time+=.01;for(const s of this.particles){const e=S.noise2D(s.pos.x*.003+this.time,s.pos.y*.003);s.vel.x+=e*.01,s.vel.y+=S.noise2D(s.pos.y*.003+this.time,s.pos.x*.003)*.01,s.vel.limit(.8),s.pos.add(s.vel),s.pos.x<0&&(s.pos.x=t),s.pos.x>t&&(s.pos.x=0),s.pos.y<0&&(s.pos.y=i),s.pos.y>i&&(s.pos.y=0),this.ctx.beginPath(),this.ctx.arc(s.pos.x,s.pos.y,2,0,Math.PI*2),this.ctx.fillStyle=`rgba(248, 113, 113, ${s.alpha*.5})`,this.ctx.fill()}for(let s=0;s<this.particles.length;s++)for(let e=s+1;e<this.particles.length;e++){const o=h.dist(this.particles[s].pos,this.particles[e].pos);o<80&&(this.ctx.beginPath(),this.ctx.moveTo(this.particles[s].pos.x,this.particles[s].pos.y),this.ctx.lineTo(this.particles[e].pos.x,this.particles[e].pos.y),this.ctx.strokeStyle=`rgba(248, 113, 113, ${(1-o/80)*.1})`,this.ctx.lineWidth=.5,this.ctx.stroke())}});this.canvas=document.getElementById(t),this.ctx=this.canvas.getContext("2d"),this.resize(),window.addEventListener("resize",()=>this.resize())}resize(){this.canvas.width=this.canvas.offsetWidth*window.devicePixelRatio,this.canvas.height=this.canvas.offsetHeight*window.devicePixelRatio,this.ctx.scale(window.devicePixelRatio,window.devicePixelRatio)}start(){const t=this.canvas.offsetWidth,i=this.canvas.offsetHeight;for(let s=0;s<80;s++)this.particles.push({pos:new h(Math.random()*t,Math.random()*i),vel:new h((Math.random()-.5)*.5,(Math.random()-.5)*.5),target:Math.floor(Math.random()*5),alpha:.2+Math.random()*.3});this.animate()}stop(){cancelAnimationFrame(this.animationId),this.particles=[]}}class lt{constructor(t){a(this,"canvas");a(this,"ctx");a(this,"pos");a(this,"vel");a(this,"acc");a(this,"time",0);a(this,"animationId",0);a(this,"trail",[]);a(this,"animate",()=>{this.animationId=requestAnimationFrame(this.animate);const t=this.canvas.parentElement,i=t.offsetWidth,s=t.offsetHeight;if(this.ctx.fillStyle="#0a0a0f",this.ctx.fillRect(0,0,i,s),this.time+=.02,this.acc=new h(0,0),this.acc.add(new h(0,.1)),this.acc.add(new h(Math.sin(this.time)*.15,0)),this.vel.add(this.acc),this.vel.mult(.99),this.pos.add(this.vel),(this.pos.x<30||this.pos.x>i-30)&&(this.vel.x*=-.8,this.pos.x=Math.max(30,Math.min(i-30,this.pos.x))),(this.pos.y<30||this.pos.y>s-30)&&(this.vel.y*=-.8,this.pos.y=Math.max(30,Math.min(s-30,this.pos.y))),this.trail.push(this.pos.copy()),this.trail.length>40&&this.trail.shift(),this.trail.length>1){this.ctx.beginPath(),this.ctx.moveTo(this.trail[0].x,this.trail[0].y);for(let o=1;o<this.trail.length;o++)this.ctx.lineTo(this.trail[o].x,this.trail[o].y);this.ctx.strokeStyle="rgba(248, 113, 113, 0.2)",this.ctx.lineWidth=2,this.ctx.stroke()}this.ctx.beginPath(),this.ctx.arc(this.pos.x,this.pos.y,16,0,Math.PI*2),this.ctx.fillStyle="#f87171",this.ctx.fill(),this.drawVector(this.pos,h.mult(this.vel,15),"#ffffff","velocity"),this.drawVector(this.pos,h.mult(this.acc,150),"#fbbf24","force"),this.ctx.fillStyle="#666",this.ctx.font="12px monospace",this.ctx.fillText(`position: (${this.pos.x.toFixed(0)}, ${this.pos.y.toFixed(0)})`,15,25),this.ctx.fillText(`velocity: (${this.vel.x.toFixed(2)}, ${this.vel.y.toFixed(2)})`,15,45),this.ctx.fillText(`force: (${this.acc.x.toFixed(2)}, ${this.acc.y.toFixed(2)})`,15,65);const e=s-50;this.ctx.fillStyle="#fff",this.ctx.fillRect(15,e,10,3),this.ctx.fillText("velocity",30,e+5),this.ctx.fillStyle="#fbbf24",this.ctx.fillRect(15,e+20,10,3),this.ctx.fillStyle="#666",this.ctx.fillText("force",30,e+25)});this.canvas=document.getElementById(t),this.ctx=this.canvas.getContext("2d"),this.pos=new h(0,0),this.vel=new h(0,0),this.acc=new h(0,0),this.resize()}resize(){const t=this.canvas.parentElement,i=t.offsetWidth,s=t.offsetHeight,e=window.devicePixelRatio;this.canvas.width=i*e,this.canvas.height=s*e,this.ctx.scale(e,e),this.canvas.style.width=i+"px",this.canvas.style.height=s+"px",this.pos=new h(i/2,s/2),this.vel=new h(2,-1)}start(){this.animate()}stop(){cancelAnimationFrame(this.animationId),this.trail=[]}drawVector(t,i,s,e){const o=h.add(t,i);this.ctx.beginPath(),this.ctx.moveTo(t.x,t.y),this.ctx.lineTo(o.x,o.y),this.ctx.strokeStyle=s,this.ctx.lineWidth=2,this.ctx.stroke();const n=i.heading(),r=8;this.ctx.beginPath(),this.ctx.moveTo(o.x,o.y),this.ctx.lineTo(o.x-r*Math.cos(n-Math.PI/6),o.y-r*Math.sin(n-Math.PI/6)),this.ctx.moveTo(o.x,o.y),this.ctx.lineTo(o.x-r*Math.cos(n+Math.PI/6),o.y-r*Math.sin(n+Math.PI/6)),this.ctx.stroke()}}class dt{constructor(t,i,s={}){a(this,"pos");a(this,"vel");a(this,"acc");a(this,"prevPos");a(this,"mass");a(this,"radius");a(this,"life");a(this,"maxLife");a(this,"color");this.pos=new h(t,i),this.vel=new h(s.vx||0,s.vy||0),this.acc=new h(0,0),this.prevPos=new h(t,i),this.mass=s.mass||1,this.radius=s.radius||4,this.maxLife=s.life||1/0,this.life=this.maxLife,this.color=s.color||"#f87171"}applyForce(t){const i=h.mult(t,1/this.mass);this.acc.add(i)}updateEuler(t=1){this.vel.add(this.acc),this.pos.add(h.mult(this.vel,t)),this.acc.mult(0),this.life--}updateVerlet(t=1){const i=h.sub(this.pos,this.prevPos);this.prevPos=this.pos.copy(),this.pos.add(i),this.pos.add(h.mult(this.acc,t*t)),this.acc.mult(0),this.life--}edges(t,i,s=!0){s?(this.pos.x<this.radius&&(this.pos.x=this.radius,this.vel.x*=-.8,this.prevPos.x=this.pos.x+this.vel.x),this.pos.x>t-this.radius&&(this.pos.x=t-this.radius,this.vel.x*=-.8,this.prevPos.x=this.pos.x+this.vel.x),this.pos.y<this.radius&&(this.pos.y=this.radius,this.vel.y*=-.8,this.prevPos.y=this.pos.y+this.vel.y),this.pos.y>i-this.radius&&(this.pos.y=i-this.radius,this.vel.y*=-.8,this.prevPos.y=this.pos.y+this.vel.y)):(this.pos.x<0&&(this.pos.x=t),this.pos.x>t&&(this.pos.x=0),this.pos.y<0&&(this.pos.y=i),this.pos.y>i&&(this.pos.y=0))}isDead(){return this.life<=0}draw(t){t.beginPath(),t.arc(this.pos.x,this.pos.y,this.radius,0,Math.PI*2),t.fillStyle=this.color,t.fill()}}class ${constructor(t,i,s={}){a(this,"pos");a(this,"oldPos");a(this,"acc");a(this,"pinned");a(this,"mass");a(this,"radius");a(this,"color");this.pos=new h(t,i),this.oldPos=new h(t,i),this.acc=new h(0,0),this.pinned=s.pinned||!1,this.mass=s.mass||1,this.radius=s.radius||4,this.color=s.color||"#f87171"}applyForce(t){if(this.pinned)return;const i=h.mult(t,1/this.mass);this.acc.add(i)}update(t=.99){if(this.pinned)return;const i=h.sub(this.pos,this.oldPos).mult(t);this.oldPos=this.pos.copy(),this.pos.add(i),this.pos.add(this.acc),this.acc.mult(0)}draw(t){t.beginPath(),t.arc(this.pos.x,this.pos.y,this.radius,0,Math.PI*2),t.fillStyle=this.color,t.fill()}}class N{constructor(t,i,s,e=1){a(this,"p1");a(this,"p2");a(this,"length");a(this,"stiffness");this.p1=t,this.p2=i,this.length=s||h.dist(t.pos,i.pos),this.stiffness=e}solve(){const t=h.sub(this.p2.pos,this.p1.pos),i=t.mag(),s=(this.length-i)/i*this.stiffness,e=h.mult(t,s*.5);this.p1.pinned||this.p1.pos.sub(e),this.p2.pinned||this.p2.pos.add(e)}draw(t){t.beginPath(),t.moveTo(this.p1.pos.x,this.p1.pos.y),t.lineTo(this.p2.pos.x,this.p2.pos.y),t.strokeStyle="rgba(248, 113, 113, 0.5)",t.lineWidth=1,t.stroke()}}class ft{constructor(t){a(this,"canvas");a(this,"ctx");a(this,"particles",[]);a(this,"mouse");a(this,"time",0);a(this,"animationId",0);a(this,"activeForces",new Set(["attract"]));a(this,"animate",()=>{this.animationId=requestAnimationFrame(this.animate);const t=this.canvas.offsetWidth,i=this.canvas.offsetHeight;this.ctx.fillStyle="rgba(10, 10, 15, 0.15)",this.ctx.fillRect(0,0,t,i),this.time+=.01;for(const o of this.particles){if(this.activeForces.has("gravity")&&o.applyForce(new h(0,.15)),this.activeForces.has("attract")){const n=h.sub(this.mouse,o.pos),r=n.mag();if(r>5){n.normalize();const c=Math.min(50/(r*.5),.5);n.mult(c),o.applyForce(n)}}if(this.activeForces.has("noise")){const r=S.noise2D(o.pos.x*.01+this.time,o.pos.y*.01)*Math.PI*2,c=h.fromAngle(r).mult(.2);o.applyForce(c)}o.vel.mult(.98),o.updateEuler(),o.edges(t,i,!0),this.ctx.beginPath(),this.ctx.arc(o.pos.x,o.pos.y,o.radius,0,Math.PI*2),this.ctx.fillStyle="rgba(248, 113, 113, 0.8)",this.ctx.fill()}if(this.activeForces.has("attract")){this.ctx.beginPath(),this.ctx.arc(this.mouse.x,this.mouse.y,20,0,Math.PI*2),this.ctx.strokeStyle="rgba(248, 113, 113, 0.3)",this.ctx.lineWidth=2,this.ctx.stroke();for(let o=0;o<Math.PI*2;o+=Math.PI/4){const n=this.mouse.x+Math.cos(o)*35,r=this.mouse.y+Math.sin(o)*35,c=this.mouse.x+Math.cos(o)*25,l=this.mouse.y+Math.sin(o)*25;this.ctx.beginPath(),this.ctx.moveTo(n,r),this.ctx.lineTo(c,l),this.ctx.strokeStyle="rgba(248, 113, 113, 0.2)",this.ctx.stroke()}}const s=30;this.ctx.font="12px monospace";let e=15;for(const o of this.activeForces)this.ctx.fillStyle="#f87171",this.ctx.fillText(`[${o}]`,e,s),e+=this.ctx.measureText(`[${o}]`).width+15});this.canvas=document.getElementById(t),this.ctx=this.canvas.getContext("2d"),this.mouse=new h(0,0),this.resize(),this.setupControls(),this.setupMouse(),window.addEventListener("resize",()=>this.resize())}resize(){this.canvas.width=this.canvas.offsetWidth*window.devicePixelRatio,this.canvas.height=this.canvas.offsetHeight*window.devicePixelRatio,this.ctx.scale(window.devicePixelRatio,window.devicePixelRatio)}setupControls(){document.querySelectorAll("[data-force]").forEach(i=>{i.addEventListener("click",()=>{const s=i.getAttribute("data-force");this.activeForces.has(s)?(this.activeForces.delete(s),i.classList.remove("active")):(this.activeForces.add(s),i.classList.add("active"))})})}setupMouse(){this.canvas.addEventListener("mousemove",t=>{const i=this.canvas.getBoundingClientRect();this.mouse.x=t.clientX-i.left,this.mouse.y=t.clientY-i.top}),this.canvas.addEventListener("mouseleave",()=>{this.mouse.x=this.canvas.offsetWidth/2,this.mouse.y=this.canvas.offsetHeight/2})}start(){const t=this.canvas.offsetWidth,i=this.canvas.offsetHeight;this.mouse=new h(t/2,i/2);for(let s=0;s<100;s++)this.particles.push(new dt(Math.random()*t,Math.random()*i,{vx:(Math.random()-.5)*2,vy:(Math.random()-.5)*2,radius:3+Math.random()*3}));this.animate()}stop(){cancelAnimationFrame(this.animationId),this.particles=[]}}class pt{constructor(t,i){a(this,"canvasEuler");a(this,"canvasVerlet");a(this,"ctxEuler");a(this,"ctxVerlet");a(this,"eulerParticle");a(this,"verletParticle");a(this,"time",0);a(this,"animationId",0);a(this,"mouseEuler");a(this,"mouseVerlet");a(this,"animate",()=>{this.animationId=requestAnimationFrame(this.animate);const t=this.canvasEuler.parentElement,i=t.offsetWidth,s=t.offsetHeight;this.time+=.016,this.updateEuler(i,s),this.updateVerlet(i,s),this.draw(this.ctxEuler,this.eulerParticle,i,s,this.mouseEuler),this.draw(this.ctxVerlet,this.verletParticle,i,s,this.mouseVerlet)});this.canvasEuler=document.getElementById(t),this.canvasVerlet=document.getElementById(i),this.ctxEuler=this.canvasEuler.getContext("2d"),this.ctxVerlet=this.canvasVerlet.getContext("2d"),this.eulerParticle=this.createParticle(),this.verletParticle=this.createParticle(),this.mouseEuler=new h(0,0),this.mouseVerlet=new h(0,0),this.resize(),this.setupMouse()}createParticle(){return{pos:new h(0,0),vel:new h(0,0),oldPos:new h(0,0),acc:new h(0,0),trail:[]}}resize(){[this.canvasEuler,this.canvasVerlet].forEach(s=>{const e=s.parentElement,o=e.offsetWidth,n=e.offsetHeight,r=window.devicePixelRatio;s.width=o*r,s.height=n*r,s.getContext("2d").scale(r,r),s.style.width=o+"px",s.style.height=n+"px"});const t=this.canvasEuler.parentElement.offsetWidth,i=this.canvasEuler.parentElement.offsetHeight;this.eulerParticle.pos=new h(t/2,i/2),this.eulerParticle.oldPos=this.eulerParticle.pos.copy(),this.verletParticle.pos=new h(t/2,i/2),this.verletParticle.oldPos=this.verletParticle.pos.copy(),this.mouseEuler=new h(t/2,i/2),this.mouseVerlet=new h(t/2,i/2)}setupMouse(){this.canvasEuler.addEventListener("mousemove",t=>{const i=this.canvasEuler.getBoundingClientRect();this.mouseEuler.x=t.clientX-i.left,this.mouseEuler.y=t.clientY-i.top}),this.canvasVerlet.addEventListener("mousemove",t=>{const i=this.canvasVerlet.getBoundingClientRect();this.mouseVerlet.x=t.clientX-i.left,this.mouseVerlet.y=t.clientY-i.top})}start(){this.animate()}stop(){cancelAnimationFrame(this.animationId),this.eulerParticle.trail=[],this.verletParticle.trail=[]}updateEuler(t,i){const s=this.eulerParticle,e=h.sub(this.mouseEuler,s.pos);e.normalize(),e.mult(.5),s.acc=e,s.vel.add(s.acc),s.vel.mult(.95),s.pos.add(s.vel),s.trail.push(s.pos.copy()),s.trail.length>50&&s.trail.shift(),this.constrainToBounds(s,t,i)}updateVerlet(t,i){const s=this.verletParticle,e=h.sub(this.mouseVerlet,s.pos);e.normalize(),e.mult(.5),s.acc=e;const o=h.sub(s.pos,s.oldPos);o.mult(.95),s.oldPos=s.pos.copy(),s.pos.add(o),s.pos.add(s.acc),s.trail.push(s.pos.copy()),s.trail.length>50&&s.trail.shift(),this.constrainToBounds(s,t,i)}constrainToBounds(t,i,s){t.pos.x<20&&(t.pos.x=20,t.vel.x*=-.5,t.oldPos.x=t.pos.x+t.vel.x),t.pos.x>i-20&&(t.pos.x=i-20,t.vel.x*=-.5,t.oldPos.x=t.pos.x+t.vel.x),t.pos.y<20&&(t.pos.y=20,t.vel.y*=-.5,t.oldPos.y=t.pos.y+t.vel.y),t.pos.y>s-20&&(t.pos.y=s-20,t.vel.y*=-.5,t.oldPos.y=t.pos.y+t.vel.y)}draw(t,i,s,e,o){if(t.fillStyle="rgba(0, 0, 0, 0.15)",t.fillRect(0,0,s,e),i.trail.length>1){t.beginPath(),t.moveTo(i.trail[0].x,i.trail[0].y);for(let r=1;r<i.trail.length;r++)t.lineTo(i.trail[r].x,i.trail[r].y);t.strokeStyle="rgba(248, 113, 113, 0.3)",t.lineWidth=2,t.stroke()}t.beginPath(),t.arc(o.x,o.y,15,0,Math.PI*2),t.strokeStyle="rgba(248, 113, 113, 0.2)",t.lineWidth=1,t.stroke(),t.beginPath(),t.arc(i.pos.x,i.pos.y,12,0,Math.PI*2),t.fillStyle="#f87171",t.fill();const n=h.mult(i.vel,10);t.beginPath(),t.moveTo(i.pos.x,i.pos.y),t.lineTo(i.pos.x+n.x,i.pos.y+n.y),t.strokeStyle="rgba(255, 255, 255, 0.5)",t.lineWidth=2,t.stroke()}}class mt{constructor(t){a(this,"canvas");a(this,"ctx");a(this,"points",[]);a(this,"mouse");a(this,"isDragging",!1);a(this,"animationId",0);a(this,"stiffness",.08);a(this,"damping",.92);a(this,"animate",()=>{this.animationId=requestAnimationFrame(this.animate);const t=this.canvas.offsetWidth,i=this.canvas.offsetHeight;this.ctx.fillStyle="rgba(10, 10, 15, 0.1)",this.ctx.fillRect(0,0,t,i);for(const s of this.points){let e=s.target;if(this.isDragging){const c=h.dist(s.target,this.mouse),l=Math.max(0,1-c/200);l>0&&(e=h.lerp(s.target,this.mouse,l*.8))}const o=h.sub(e,s.pos);if(o.mult(this.stiffness),s.vel.add(o),s.vel.mult(this.damping),s.pos.add(s.vel),s.trail.push(s.pos.copy()),s.trail.length>20&&s.trail.shift(),s.trail.length>1){this.ctx.beginPath(),this.ctx.moveTo(s.trail[0].x,s.trail[0].y);for(let c=1;c<s.trail.length;c++)this.ctx.lineTo(s.trail[c].x,s.trail[c].y);this.ctx.strokeStyle="rgba(248, 113, 113, 0.15)",this.ctx.lineWidth=2,this.ctx.stroke()}this.ctx.beginPath(),this.ctx.moveTo(s.target.x,s.target.y),this.ctx.lineTo(s.pos.x,s.pos.y),this.ctx.strokeStyle="rgba(248, 113, 113, 0.2)",this.ctx.lineWidth=1,this.ctx.stroke(),this.ctx.beginPath(),this.ctx.arc(s.target.x,s.target.y,4,0,Math.PI*2),this.ctx.fillStyle="rgba(248, 113, 113, 0.3)",this.ctx.fill();const r=8+s.vel.mag()*2;this.ctx.beginPath(),this.ctx.arc(s.pos.x,s.pos.y,r,0,Math.PI*2),this.ctx.fillStyle="#f87171",this.ctx.fill()}this.isDragging&&(this.ctx.beginPath(),this.ctx.arc(this.mouse.x,this.mouse.y,30,0,Math.PI*2),this.ctx.strokeStyle="rgba(248, 113, 113, 0.3)",this.ctx.lineWidth=2,this.ctx.stroke()),this.ctx.fillStyle="#666",this.ctx.font="12px monospace",this.ctx.fillText(`stiffness: ${this.stiffness.toFixed(2)}`,15,25),this.ctx.fillText(`damping: ${this.damping.toFixed(2)}`,15,45)});this.canvas=document.getElementById(t),this.ctx=this.canvas.getContext("2d"),this.mouse=new h(0,0),this.resize(),this.setupControls(),this.setupMouse(),window.addEventListener("resize",()=>this.resize())}resize(){this.canvas.width=this.canvas.offsetWidth*window.devicePixelRatio,this.canvas.height=this.canvas.offsetHeight*window.devicePixelRatio,this.ctx.scale(window.devicePixelRatio,window.devicePixelRatio)}setupControls(){const t=document.getElementById("damping-slider"),i=document.getElementById("stiffness-slider");t&&t.addEventListener("input",s=>{this.damping=parseFloat(s.target.value)}),i&&i.addEventListener("input",s=>{this.stiffness=parseFloat(s.target.value)})}setupMouse(){this.canvas.addEventListener("mousedown",t=>{this.isDragging=!0,this.updateMouse(t)}),this.canvas.addEventListener("mousemove",t=>{this.updateMouse(t)}),this.canvas.addEventListener("mouseup",()=>{this.isDragging=!1}),this.canvas.addEventListener("mouseleave",()=>{this.isDragging=!1})}updateMouse(t){const i=this.canvas.getBoundingClientRect();this.mouse.x=t.clientX-i.left,this.mouse.y=t.clientY-i.top}start(){const t=this.canvas.offsetWidth,i=this.canvas.offsetHeight,s=t/2,e=i/2;this.mouse=new h(s,e);const o=5,n=4,r=t/(o+1),c=i/(n+1);for(let l=0;l<o;l++)for(let d=0;d<n;d++){const f=r*(l+1),m=c*(d+1);this.points.push({pos:new h(f,m),vel:new h(0,0),target:new h(f,m),trail:[]})}this.animate()}stop(){cancelAnimationFrame(this.animationId),this.points=[]}}class xt{constructor(t){a(this,"canvas");a(this,"ctx");a(this,"particles",[]);a(this,"constraints",[]);a(this,"mouse");a(this,"draggedParticle",null);a(this,"animationId",0);a(this,"constraintEnabled",!0);a(this,"animate",()=>{this.animationId=requestAnimationFrame(this.animate);const t=this.canvas.offsetWidth,i=this.canvas.offsetHeight;this.ctx.fillStyle="rgba(10, 10, 15, 0.3)",this.ctx.fillRect(0,0,t,i);const s=new h(0,.3);for(const e of this.particles)e.applyForce(s);for(const e of this.particles)e.update(.99);if(this.constraintEnabled)for(let e=0;e<3;e++)for(const o of this.constraints)o.solve();for(const e of this.particles)e.pos.x<10&&(e.pos.x=10),e.pos.x>t-10&&(e.pos.x=t-10),e.pos.y<10&&(e.pos.y=10),e.pos.y>i-10&&(e.pos.y=i-10);for(const e of this.constraints){if(this.ctx.beginPath(),this.ctx.moveTo(e.p1.pos.x,e.p1.pos.y),this.ctx.lineTo(e.p2.pos.x,e.p2.pos.y),this.constraintEnabled)this.ctx.strokeStyle="rgba(248, 113, 113, 0.4)";else{const o=Math.abs(h.dist(e.p1.pos,e.p2.pos)-e.length),n=Math.min(o/50,1);this.ctx.strokeStyle=`rgba(${255*n}, ${231*(1-n)}, ${183*(1-n)}, 0.4)`}this.ctx.lineWidth=1,this.ctx.stroke()}for(const e of this.particles)this.ctx.beginPath(),this.ctx.arc(e.pos.x,e.pos.y,e.radius,0,Math.PI*2),this.ctx.fillStyle=e.color,this.ctx.fill();this.ctx.fillStyle="#666",this.ctx.font="12px monospace",this.ctx.fillText(`constraint: ${this.constraintEnabled?"ON":"OFF"}`,15,25),this.ctx.fillText("drag particles to interact",15,i-15)});this.canvas=document.getElementById(t),this.ctx=this.canvas.getContext("2d"),this.mouse=new h(0,0),this.resize(),this.setupControls(),this.setupMouse(),window.addEventListener("resize",()=>this.resize())}resize(){this.canvas.width=this.canvas.offsetWidth*window.devicePixelRatio,this.canvas.height=this.canvas.offsetHeight*window.devicePixelRatio,this.ctx.scale(window.devicePixelRatio,window.devicePixelRatio)}setupControls(){const t=document.querySelectorAll("[data-constraint]");t.forEach(i=>{i.addEventListener("click",()=>{t.forEach(s=>s.classList.remove("active")),i.classList.add("active"),this.constraintEnabled=i.getAttribute("data-constraint")==="on"})})}setupMouse(){this.canvas.addEventListener("mousedown",t=>{this.updateMouse(t),this.draggedParticle=this.findNearestParticle()}),this.canvas.addEventListener("mousemove",t=>{this.updateMouse(t),this.draggedParticle&&!this.draggedParticle.pinned&&(this.draggedParticle.pos=this.mouse.copy(),this.draggedParticle.oldPos=this.mouse.copy())}),this.canvas.addEventListener("mouseup",()=>{this.draggedParticle=null}),this.canvas.addEventListener("mouseleave",()=>{this.draggedParticle=null})}updateMouse(t){const i=this.canvas.getBoundingClientRect();this.mouse.x=t.clientX-i.left,this.mouse.y=t.clientY-i.top}findNearestParticle(){let t=null,i=30;for(const s of this.particles){const e=h.dist(this.mouse,s.pos);e<i&&(i=e,t=s)}return t}start(){const t=this.canvas.offsetWidth;this.particles=[],this.constraints=[];const i=12,s=8,e=30,o=(t-(i-1)*e)/2,n=80;for(let r=0;r<s;r++)for(let c=0;c<i;c++){const l=o+c*e,d=n+r*e,f=r===0&&(c===0||c===Math.floor(i/2)||c===i-1);this.particles.push(new $(l,d,{pinned:f,radius:f?6:4,color:f?"#fbbf24":"#f87171"}))}for(let r=0;r<s;r++)for(let c=0;c<i;c++){const l=r*i+c;c<i-1&&this.constraints.push(new N(this.particles[l],this.particles[l+1],e)),r<s-1&&this.constraints.push(new N(this.particles[l],this.particles[l+i],e))}this.animate()}stop(){cancelAnimationFrame(this.animationId),this.particles=[],this.constraints=[]}}class ut{constructor(t){a(this,"canvas");a(this,"ctx");a(this,"particles",[]);a(this,"time",0);a(this,"animationId",0);a(this,"transitionProgress",0);a(this,"animate",()=>{this.animationId=requestAnimationFrame(this.animate);const t=this.canvas.offsetWidth,i=this.canvas.offsetHeight;this.ctx.fillStyle="rgba(10, 10, 15, 0.1)",this.ctx.fillRect(0,0,t,i),this.time+=.015,this.transitionProgress=(Math.sin(this.time*.3)+1)/2;for(const e of this.particles){const o=e.basePos.x+Math.sin(this.time+e.phase)*15,n=e.basePos.y+Math.cos(this.time*.8+e.phase)*15,c=S.noise3D(e.pos.x*.005,e.pos.y*.005,this.time*.5)*Math.PI*2,l=e.pos.x+Math.cos(c)*1.5,d=e.pos.y+Math.sin(c)*1.5,f=o*(1-this.transitionProgress)+l*this.transitionProgress,m=n*(1-this.transitionProgress)+d*this.transitionProgress;e.pos.x+=(f-e.pos.x)*.1,e.pos.y+=(m-e.pos.y)*.1,this.transitionProgress>.5&&(e.pos.x<0&&(e.pos.x=t),e.pos.x>t&&(e.pos.x=0),e.pos.y<0&&(e.pos.y=i),e.pos.y>i&&(e.pos.y=0));const x=.3+this.transitionProgress*.5;this.ctx.beginPath(),this.ctx.arc(e.pos.x,e.pos.y,3,0,Math.PI*2),this.ctx.fillStyle=`rgba(248, 113, 113, ${x})`,this.ctx.fill()}this.ctx.fillStyle="rgba(255, 255, 255, 0.3)",this.ctx.font="14px monospace";const s=this.transitionProgress<.5?"← Object Motion":"Space Motion →";this.ctx.fillText(s,20,30),this.ctx.fillStyle="rgba(255, 255, 255, 0.1)",this.ctx.fillRect(20,45,150,4),this.ctx.fillStyle="#f87171",this.ctx.fillRect(20,45,150*this.transitionProgress,4)});this.canvas=document.getElementById(t),this.ctx=this.canvas.getContext("2d"),this.resize(),window.addEventListener("resize",()=>this.resize())}resize(){this.canvas.width=this.canvas.offsetWidth*window.devicePixelRatio,this.canvas.height=this.canvas.offsetHeight*window.devicePixelRatio,this.ctx.scale(window.devicePixelRatio,window.devicePixelRatio)}start(){const t=this.canvas.offsetWidth,i=this.canvas.offsetHeight,s=20,e=15,o=t/(s+1),n=i/(e+1);for(let r=0;r<s;r++)for(let c=0;c<e;c++){const l=o*(r+1),d=n*(c+1);this.particles.push({pos:new h(l,d),vel:new h(0,0),basePos:new h(l,d),phase:(r+c)*.3})}this.animate()}stop(){cancelAnimationFrame(this.animationId),this.particles=[],this.transitionProgress=0}}class vt{constructor(t){a(this,"canvas");a(this,"ctx");a(this,"particles",[]);a(this,"flowField",[]);a(this,"time",0);a(this,"animationId",0);a(this,"showVectors",!0);a(this,"resolution",25);a(this,"cols",0);a(this,"rows",0);a(this,"animate",()=>{var s;this.animationId=requestAnimationFrame(this.animate);const t=this.canvas.offsetWidth,i=this.canvas.offsetHeight;if(this.ctx.fillStyle="rgba(10, 10, 15, 0.1)",this.ctx.fillRect(0,0,t,i),this.time+=.01,this.updateFlowField(),this.showVectors)for(let e=0;e<this.rows;e++)for(let o=0;o<this.cols;o++){const n=o+e*this.cols,r=this.flowField[n][0],c=o*this.resolution+this.resolution/2,l=e*this.resolution+this.resolution/2,d=this.resolution*.4,f=c+Math.cos(r)*d,m=l+Math.sin(r)*d;this.ctx.beginPath(),this.ctx.moveTo(c,l),this.ctx.lineTo(f,m),this.ctx.strokeStyle="rgba(248, 113, 113, 0.15)",this.ctx.lineWidth=1,this.ctx.stroke();const x=4;this.ctx.beginPath(),this.ctx.moveTo(f,m),this.ctx.lineTo(f-x*Math.cos(r-Math.PI/6),m-x*Math.sin(r-Math.PI/6)),this.ctx.moveTo(f,m),this.ctx.lineTo(f-x*Math.cos(r+Math.PI/6),m-x*Math.sin(r+Math.PI/6)),this.ctx.stroke()}for(const e of this.particles){const o=Math.floor(e.pos.x/this.resolution),n=Math.floor(e.pos.y/this.resolution),r=Math.max(0,Math.min(o+n*this.cols,this.flowField.length-1)),c=((s=this.flowField[r])==null?void 0:s[0])||0,l=h.fromAngle(c).mult(.2);e.vel.add(l),e.vel.limit(2),e.pos.add(e.vel),e.life--,(e.pos.x<0||e.pos.x>t||e.pos.y<0||e.pos.y>i||e.life<=0)&&(e.pos=new h(Math.random()*t,Math.random()*i),e.vel=new h(0,0),e.life=100+Math.random()*100),this.ctx.beginPath(),this.ctx.arc(e.pos.x,e.pos.y,1.5,0,Math.PI*2),this.ctx.fillStyle="rgba(248, 113, 113, 0.8)",this.ctx.fill()}});this.canvas=document.getElementById(t),this.ctx=this.canvas.getContext("2d"),this.resize(),this.setupControls(),window.addEventListener("resize",()=>this.resize())}resize(){this.canvas.width=this.canvas.offsetWidth*window.devicePixelRatio,this.canvas.height=this.canvas.offsetHeight*window.devicePixelRatio,this.ctx.scale(window.devicePixelRatio,window.devicePixelRatio);const t=this.canvas.offsetWidth,i=this.canvas.offsetHeight;this.cols=Math.ceil(t/this.resolution),this.rows=Math.ceil(i/this.resolution),this.flowField=[];for(let s=0;s<this.cols*this.rows;s++)this.flowField[s]=[0]}setupControls(){const t=document.querySelectorAll("[data-show]");t.forEach(i=>{i.addEventListener("click",()=>{t.forEach(s=>s.classList.remove("active")),i.classList.add("active"),this.showVectors=i.getAttribute("data-show")==="vectors"})})}start(){const t=this.canvas.offsetWidth,i=this.canvas.offsetHeight;for(let s=0;s<500;s++)this.particles.push({pos:new h(Math.random()*t,Math.random()*i),vel:new h(0,0),life:Math.random()*200});this.animate()}stop(){cancelAnimationFrame(this.animationId),this.particles=[]}updateFlowField(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.cols;i++){const s=i+t*this.cols,e=S.noise3D(i*.1,t*.1,this.time*.3);this.flowField[s]=[e*Math.PI*2]}}}class gt{constructor(t){a(this,"canvas");a(this,"ctx");a(this,"particles",[]);a(this,"time",0);a(this,"animationId",0);a(this,"scale",.004);a(this,"intensity",1.5);a(this,"animate",()=>{this.animationId=requestAnimationFrame(this.animate);const t=this.canvas.offsetWidth,i=this.canvas.offsetHeight;this.ctx.fillStyle="rgba(10, 10, 15, 0.03)",this.ctx.fillRect(0,0,t,i),this.time+=.005;for(const s of this.particles){const e=q(s.pos.x,s.pos.y,this.time,this.scale);if(s.vel.x+=e.x*this.intensity*.3,s.vel.y+=e.y*this.intensity*.3,s.vel.mult(.96),s.vel.limit(3),s.pos.add(s.vel),s.life++,s.trail.push(s.pos.copy()),s.trail.length>40&&s.trail.shift(),s.trail.length>2){this.ctx.beginPath(),this.ctx.moveTo(s.trail[0].x,s.trail[0].y);for(let n=1;n<s.trail.length;n++)this.ctx.lineTo(s.trail[n].x,s.trail[n].y);const o=Math.min(s.life/30,1)*(1-s.life/s.maxLife);this.ctx.strokeStyle=`rgba(248, 113, 113, ${o*.4})`,this.ctx.lineWidth=1.5,this.ctx.stroke()}if(s.pos.x<-50||s.pos.x>t+50||s.pos.y<-50||s.pos.y>i+50||s.life>s.maxLife){const o=this.createParticle();s.pos=o.pos,s.vel=o.vel,s.trail=[],s.life=0}}this.ctx.fillStyle="rgba(255, 255, 255, 0.3)",this.ctx.font="12px monospace",this.ctx.fillText(`scale: ${this.scale.toFixed(4)}`,15,25),this.ctx.fillText(`intensity: ${this.intensity.toFixed(1)}`,15,45)});this.canvas=document.getElementById(t),this.ctx=this.canvas.getContext("2d"),this.resize(),this.setupControls(),window.addEventListener("resize",()=>this.resize())}resize(){this.canvas.width=this.canvas.offsetWidth*window.devicePixelRatio,this.canvas.height=this.canvas.offsetHeight*window.devicePixelRatio,this.ctx.scale(window.devicePixelRatio,window.devicePixelRatio)}setupControls(){const t=document.getElementById("curl-scale"),i=document.getElementById("curl-intensity");t&&t.addEventListener("input",s=>{this.scale=parseFloat(s.target.value)}),i&&i.addEventListener("input",s=>{this.intensity=parseFloat(s.target.value)})}createParticle(){const t=this.canvas.offsetWidth,i=this.canvas.offsetHeight;return{pos:new h(Math.random()*t,Math.random()*i),vel:new h(0,0),trail:[],life:0,maxLife:150+Math.random()*150}}start(){for(let t=0;t<300;t++)this.particles.push(this.createParticle());this.animate()}stop(){cancelAnimationFrame(this.animationId),this.particles=[]}}function yt(p){return p}function J(p){return p*p*(3-2*p)}class wt{constructor(t,i){a(this,"canvasLinear");a(this,"canvasSmooth");a(this,"ctxLinear");a(this,"ctxSmooth");a(this,"dotsLinear",[]);a(this,"dotsSmooth",[]);a(this,"time",0);a(this,"animationId",0);a(this,"animate",()=>{this.animationId=requestAnimationFrame(this.animate);const t=this.canvasLinear.parentElement,i=t.offsetWidth,s=t.offsetHeight;this.ctxLinear.fillStyle="#0a0a0f",this.ctxLinear.fillRect(0,0,i,s),this.ctxSmooth.fillStyle="#0a0a0f",this.ctxSmooth.fillRect(0,0,i,s),this.time+=.008;const e=3,o=this.time%e/e,r=(Math.floor(this.time/e)%2===0?1:-1)===1?o:1-o;for(const c of this.dotsLinear)this.ctxLinear.beginPath(),this.ctxLinear.moveTo(c.startX,c.pos.y),this.ctxLinear.lineTo(c.endX,c.pos.y),this.ctxLinear.strokeStyle="rgba(248, 113, 113, 0.1)",this.ctxLinear.lineWidth=1,this.ctxLinear.stroke();for(const c of this.dotsSmooth)this.ctxSmooth.beginPath(),this.ctxSmooth.moveTo(c.startX,c.pos.y),this.ctxSmooth.lineTo(c.endX,c.pos.y),this.ctxSmooth.strokeStyle="rgba(248, 113, 113, 0.1)",this.ctxSmooth.lineWidth=1,this.ctxSmooth.stroke();for(let c=0;c<this.dotsLinear.length;c++){const l=this.dotsLinear[c],d=this.dotsSmooth[c],f=Math.max(0,Math.min(1,(r-l.delay)/(1-l.delay*2))),m=f;l.pos.x=l.startX+(l.endX-l.startX)*m;const x=J(f);d.pos.x=d.startX+(d.endX-d.startX)*x,this.ctxLinear.beginPath(),this.ctxLinear.arc(l.pos.x,l.pos.y,8,0,Math.PI*2),this.ctxLinear.fillStyle="#f87171",this.ctxLinear.fill(),this.ctxSmooth.beginPath(),this.ctxSmooth.arc(d.pos.x,d.pos.y,8,0,Math.PI*2),this.ctxSmooth.fillStyle="#f87171",this.ctxSmooth.fill()}this.drawEasingCurve(this.ctxLinear,i,s,yt,"linear(t) = t"),this.drawEasingCurve(this.ctxSmooth,i,s,J,"smoothstep(t)")});this.canvasLinear=document.getElementById(t),this.canvasSmooth=document.getElementById(i),this.ctxLinear=this.canvasLinear.getContext("2d"),this.ctxSmooth=this.canvasSmooth.getContext("2d"),this.resize()}resize(){[this.canvasLinear,this.canvasSmooth].forEach(t=>{const i=t.parentElement,s=i.offsetWidth,e=i.offsetHeight,o=window.devicePixelRatio;t.width=s*o,t.height=e*o,t.getContext("2d").scale(o,o),t.style.width=s+"px",t.style.height=e+"px"})}start(){const t=this.canvasLinear.parentElement,i=t.offsetWidth,s=t.offsetHeight,e=8,o=60,n=(s-o*2)/(e-1);for(let r=0;r<e;r++){const c=o+r*n,l={pos:new h(o,c),startX:o,endX:i-o,progress:0,delay:r*.1};this.dotsLinear.push({...l}),this.dotsSmooth.push({...l})}this.animate()}stop(){cancelAnimationFrame(this.animationId),this.dotsLinear=[],this.dotsSmooth=[]}drawEasingCurve(t,i,s,e,o){const c=i-80-15,l=15;t.fillStyle="rgba(0, 0, 0, 0.5)",t.fillRect(c,l,80,60),t.beginPath();for(let d=0;d<=80;d++){const f=d/80,m=e(f),x=c+d,u=l+60-m*60;d===0?t.moveTo(x,u):t.lineTo(x,u)}t.strokeStyle="#f87171",t.lineWidth=2,t.stroke(),t.fillStyle="#666",t.font="10px monospace",t.fillText(o,c,l+60+15)}}class Pt{constructor(t){a(this,"canvas");a(this,"ctx");a(this,"particles",[]);a(this,"constraints",[]);a(this,"time",0);a(this,"animationId",0);a(this,"flowStrength",.5);a(this,"springStrength",.02);a(this,"gravityStrength",.1);a(this,"centerParticle",null);a(this,"animate",()=>{this.animationId=requestAnimationFrame(this.animate);const t=this.canvas.offsetWidth,i=this.canvas.offsetHeight,s=t/2,e=i/2;this.ctx.fillStyle="rgba(10, 10, 15, 0.15)",this.ctx.fillRect(0,0,t,i),this.time+=.01,this.centerParticle&&(this.centerParticle.pos.x=s+Math.sin(this.time*.3)*50,this.centerParticle.pos.y=e+Math.cos(this.time*.2)*30);for(const o of this.particles){if(o.pinned)continue;o.applyForce(new h(0,this.gravityStrength));const n=q(o.pos.x,o.pos.y,this.time,.005);o.applyForce(new h(n.x*this.flowStrength,n.y*this.flowStrength));const r=h.sub(new h(s,e),o.pos),c=r.mag();c>50&&(r.normalize().mult(this.springStrength*(c-50)*.01),o.applyForce(r))}for(const o of this.particles)o.update(.98);for(let o=0;o<3;o++)for(const n of this.constraints)n.solve();for(const o of this.particles)o.pinned||(o.pos.x<20&&(o.pos.x=20),o.pos.x>t-20&&(o.pos.x=t-20),o.pos.y<20&&(o.pos.y=20),o.pos.y>i-20&&(o.pos.y=i-20));for(const o of this.constraints)this.ctx.beginPath(),this.ctx.moveTo(o.p1.pos.x,o.p1.pos.y),this.ctx.lineTo(o.p2.pos.x,o.p2.pos.y),this.ctx.strokeStyle="rgba(248, 113, 113, 0.3)",this.ctx.lineWidth=1,this.ctx.stroke();for(const o of this.particles)this.ctx.beginPath(),this.ctx.arc(o.pos.x,o.pos.y,o.radius,0,Math.PI*2),this.ctx.fillStyle=o.color,this.ctx.fill();this.ctx.fillStyle="rgba(255, 255, 255, 0.3)",this.ctx.font="11px monospace",this.ctx.fillText(`flow: ${this.flowStrength.toFixed(1)}`,15,25),this.ctx.fillText(`spring: ${this.springStrength.toFixed(3)}`,15,40),this.ctx.fillText(`gravity: ${this.gravityStrength.toFixed(2)}`,15,55)});this.canvas=document.getElementById(t),this.ctx=this.canvas.getContext("2d"),this.resize(),this.setupControls(),window.addEventListener("resize",()=>this.resize())}resize(){this.canvas.width=this.canvas.offsetWidth*window.devicePixelRatio,this.canvas.height=this.canvas.offsetHeight*window.devicePixelRatio,this.ctx.scale(window.devicePixelRatio,window.devicePixelRatio)}setupControls(){const t=document.getElementById("final-flow"),i=document.getElementById("final-spring"),s=document.getElementById("final-gravity");t&&t.addEventListener("input",e=>{this.flowStrength=parseFloat(e.target.value)}),i&&i.addEventListener("input",e=>{this.springStrength=parseFloat(e.target.value)}),s&&s.addEventListener("input",e=>{this.gravityStrength=parseFloat(e.target.value)})}start(){const t=this.canvas.offsetWidth,i=this.canvas.offsetHeight,s=t/2,e=i/2;this.particles=[],this.constraints=[],this.centerParticle=new $(s,e,{pinned:!0,radius:10,color:"#fbbf24"}),this.particles.push(this.centerParticle);const o=8,n=12,r=20;for(let c=0;c<o;c++){const l=c/o*Math.PI*2;let d=this.centerParticle;for(let f=0;f<n;f++){const m=r*(f+1),x=s+Math.cos(l)*m,u=e+Math.sin(l)*m,v=new $(x,u,{radius:3+(n-f)*.3,color:`rgba(248, 113, 113, ${.5+(n-f)/n*.5})`});this.particles.push(v),this.constraints.push(new N(d,v,r,.8)),d=v}}for(let c=0;c<50;c++){const l=Math.random()*Math.PI*2,d=100+Math.random()*200;this.particles.push(new $(s+Math.cos(l)*d,e+Math.sin(l)*d,{radius:2,color:"rgba(248, 113, 113, 0.6)"}))}this.animate()}stop(){cancelAnimationFrame(this.animationId),this.particles=[],this.constraints=[]}}class Mt{constructor(t){a(this,"canvas");a(this,"ctx");a(this,"particles",[]);a(this,"time",0);a(this,"animationId",0);a(this,"phase",0);a(this,"animate",()=>{this.animationId=requestAnimationFrame(this.animate);const t=this.canvas.offsetWidth,i=this.canvas.offsetHeight,s=t/2,e=i/2;this.ctx.fillStyle="rgba(10, 10, 15, 0.02)",this.ctx.fillRect(0,0,t,i),this.time+=.003,this.phase=(Math.sin(this.time*.5)+1)/2;for(const n of this.particles){const r=q(n.pos.x,n.pos.y,this.time,.003),c=h.sub(new h(s,e),n.pos),l=c.mag();c.normalize();const d=1-this.phase*.7,f=this.phase*.3;if(n.vel.x+=r.x*d*.5,n.vel.y+=r.y*d*.5,l>30&&(n.vel.x+=c.x*f*.2,n.vel.y+=c.y*f*.2),this.phase>.3&&l<300){const m=new h(-c.y,c.x);n.vel.x+=m.x*this.phase*.1,n.vel.y+=m.y*this.phase*.1}if(n.vel.mult(.97),n.vel.limit(2),n.pos.add(n.vel),n.life++,n.trail.push(n.pos.copy()),n.trail.length>30&&n.trail.shift(),n.trail.length>2){this.ctx.beginPath(),this.ctx.moveTo(n.trail[0].x,n.trail[0].y);for(let x=1;x<n.trail.length;x++)this.ctx.lineTo(n.trail[x].x,n.trail[x].y);const m=Math.min(n.life/50,1)*(1-n.life/n.maxLife)*.3;this.ctx.strokeStyle=`hsla(${n.hue}, 70%, 70%, ${m})`,this.ctx.lineWidth=1,this.ctx.stroke()}if(n.pos.x<-100||n.pos.x>t+100||n.pos.y<-100||n.pos.y>i+100||n.life>n.maxLife){const m=this.createParticle();n.pos=m.pos,n.vel=m.vel,n.trail=[],n.life=0,n.hue=0+Math.random()*15}}if(this.phase>.3){const n=this.ctx.createRadialGradient(s,e,0,s,e,150);n.addColorStop(0,`rgba(248, 113, 113, ${this.phase*.1})`),n.addColorStop(1,"rgba(248, 113, 113, 0)"),this.ctx.fillStyle=n,this.ctx.fillRect(0,0,t,i)}this.ctx.fillStyle="rgba(255, 255, 255, 0.2)",this.ctx.font="11px monospace";const o=this.phase<.5?"Flow":"Formation";this.ctx.fillText(o,15,25)});this.canvas=document.getElementById(t),this.ctx=this.canvas.getContext("2d"),this.resize(),window.addEventListener("resize",()=>this.resize())}resize(){this.canvas.width=this.canvas.offsetWidth*window.devicePixelRatio,this.canvas.height=this.canvas.offsetHeight*window.devicePixelRatio,this.ctx.scale(window.devicePixelRatio,window.devicePixelRatio)}createParticle(){const t=this.canvas.offsetWidth,i=this.canvas.offsetHeight;let s,e;if(Math.random()<.5)switch(Math.floor(Math.random()*4)){case 0:s=Math.random()*t,e=0;break;case 1:s=t,e=Math.random()*i;break;case 2:s=Math.random()*t,e=i;break;default:s=0,e=Math.random()*i;break}else s=t/2+(Math.random()-.5)*100,e=i/2+(Math.random()-.5)*100;return{pos:new h(s,e),vel:new h(0,0),trail:[],hue:0+Math.random()*15,life:0,maxLife:200+Math.random()*200}}start(){for(let t=0;t<200;t++)this.particles.push(this.createParticle());this.animate()}stop(){cancelAnimationFrame(this.animationId),this.particles=[]}}class bt{constructor(){a(this,"currentSlide",1);a(this,"totalSlides",16);a(this,"demos",new Map);a(this,"initializedDemos",new Set);this.setupNavigation(),this.setupKeyboardNavigation(),this.updateProgress(),this.initializeDemo(1)}setupNavigation(){const t=document.getElementById("prev-btn"),i=document.getElementById("next-btn");t==null||t.addEventListener("click",()=>this.goToSlide(this.currentSlide-1)),i==null||i.addEventListener("click",()=>this.goToSlide(this.currentSlide+1))}setupKeyboardNavigation(){document.addEventListener("keydown",t=>{switch(t.key){case"ArrowRight":case"ArrowDown":case" ":case"PageDown":t.preventDefault(),this.goToSlide(this.currentSlide+1);break;case"ArrowLeft":case"ArrowUp":case"PageUp":t.preventDefault(),this.goToSlide(this.currentSlide-1);break;case"Home":t.preventDefault(),this.goToSlide(1);break;case"End":t.preventDefault(),this.goToSlide(this.totalSlides);break}})}goToSlide(t){if(t<1||t>this.totalSlides||t===this.currentSlide)return;const i=this.demos.get(this.currentSlide);i==null||i.stop(),document.querySelectorAll(".slide").forEach((e,o)=>{o+1===t?e.classList.add("active"):e.classList.remove("active")}),this.currentSlide=t,this.updateProgress(),this.initializeDemo(t)}updateProgress(){const t=document.getElementById("progress"),i=document.getElementById("current-slide");t&&(t.style.width=`${this.currentSlide/this.totalSlides*100}%`),i&&(i.textContent=this.currentSlide.toString().padStart(2,"0"))}initializeDemo(t){this.initializedDemos.has(t)||(this.createDemo(t),this.initializedDemos.add(t));const i=this.demos.get(t);i==null||i.start()}createDemo(t){let i=null;switch(t){case 1:i=new nt("canvas-01");break;case 2:i=new ht("canvas-02-left","canvas-02-right");break;case 3:i=new ct("canvas-03");break;case 4:i=new rt("canvas-04");break;case 5:i=new lt("canvas-05");break;case 6:i=new ft("canvas-06");break;case 7:i=new pt("canvas-07-euler","canvas-07-verlet");break;case 8:i=new mt("canvas-08");break;case 9:i=new xt("canvas-09");break;case 10:i=new ut("canvas-10");break;case 11:i=new vt("canvas-11");break;case 12:i=new gt("canvas-12");break;case 13:i=new wt("canvas-13-linear","canvas-13-smooth");break;case 14:i=new Pt("canvas-14");break;case 15:i=new Mt("canvas-15");break}i&&this.demos.set(t,i)}}document.addEventListener("DOMContentLoaded",()=>{new bt});
